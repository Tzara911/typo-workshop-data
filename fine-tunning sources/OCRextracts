from PIL import Image
import pytesseract
import os

# 指定路径 👇
pytesseract.pytesseract.tesseract_cmd = r"C:\Program Files\Tesseract-OCR\tesseract.exe"

image_folder = "real_screenshots"
ocr_folder = "ocr_results"
os.makedirs(ocr_folder, exist_ok=True)

for file in os.listdir(image_folder):
    if file.endswith(".png"):
        img_path = os.path.join(image_folder, file)
        text = pytesseract.image_to_string(Image.open(img_path), lang="eng")

        with open(os.path.join(ocr_folder, file.replace(".png", ".txt")), "w", encoding="utf-8") as f:
            f.write(text)
        print(f" OCR完成：{file}")